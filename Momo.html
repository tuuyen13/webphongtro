<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>MORO-Modern Room Comfy life</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">  

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
     <!-- price picker slider -->
     <link rel="stylesheet" type="text/css" href="css/nouislider.css">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
    <link href="css/paymentStyle.css" rel="stylesheet">
    <!-- link fontawesome -->
    <script src="https://kit.fontawesome.com/71fcac199f.js" crossorigin="anonymous"></script>

    <!-- momo -->
    <title>Cổng thanh toán MoMo</title>
          <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
          <meta property="og:locale" content="vi_VN"/>
          <meta property="og:type" content="website"/>
          <meta property="og:title" content="MoMo Payment"/>
          <meta property="og:image:width" content="800"/>
          <meta property="og:image:height" content="366"/>
          <meta property="og:image" content="https://test-payment.momo.vn/qr/banner-payment.jpg"/>
          <link
                href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900italic,900' rel='stylesheet'>
          <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
                integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" rel="stylesheet">
          <link media="screen" rel="stylesheet" href="/v2/gateway/css/core-9745849ca5c7b6ba769af51b7db8e1bb.css"/>
          <link href="https://static.mservice.io/momo.ico" rel="SHORTCUT ICON">
          <script crossorigin="anonymous"
                  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
                  src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
          <script src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-rc.2/lazyload.js"></script>
      <meta content="width=device-width, initial-scale=1" name="viewport">
      <meta name="_csrf" content="fad6f1cf-3968-40d5-8ee9-53eb17fd5e45"/>   
      <!-- default header name is X-CSRF-TOKEN -->  
      <meta name="_csrf_header" content="X-CSRF-TOKEN"/>
      <link media="screen" rel="stylesheet" href="/v2/gateway/css/payment-364312b8e60ed5d6850c287f9e15a659.css"/>    
      <link media="screen" rel="stylesheet" href="/v2/gateway/css/qr-85a981f07d2e45ab7accaee63e4c3285.css"/>
</head>
<body>
    <div id="modalPayMomo" class="modal">           
        <div class="modal-content" style="width: fit-content;">
            <i class="fa fa-check text-center" style="font-size:48px;color:rgb(17, 219, 34)"></i>
        <h4 class="text-center">Thanh toán thành công</h4>
        <div class="buttons">             
            <button class="btn-post" style="margin-right: 50px;" onclick="PostType()">ĐĂNG BÀI</button>
            <button class="btn-backhome" onclick="window.location.href='index.html'">VỀ TRANG CHỦ</button>
        </div>
        </div>
    </div>
    <div class="payment-container">
        <div></div>
        <div class="container" id="contents">
            <div class="modal momoModal" id="paymentModal" role="dialog" tabindex="-1">
                <!-- <div class="modal-instruction modal-dialog-centered w-75" role="document">
                    <div class="modal-content text-center">
                        <div class="modal-body">
                            <span class="button-modal-close" onclick="closeModal()">×</span> -->
                            <!-- <a href="https://momo.vn/tin-tuc/tin-tuc-su-kien/huong-dan-su-dung-hinh-thuc-thanh-toan-quet-ma-va-ma-thanh-toan-673" class="mt-3">Xem hướng dẫn</a> -->
                            <!-- <div class="image-instruction-container">
                                <img src="img/momo-openqr.jpg">
                            </div>
                            <div class="image-instruction-container">
                                <img src="img/momo-scan.jpg">
                            </div>
                            <div class="text-right m-4 mt-5">
                                <a class="momo-color font-weight-bold-600 hover-momo-color hover-none-decoration" href="#" onclick="return closeModal()">Đóng</a>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
           
            <div class="row" id="qr-web-ui">
                <div class="payment-form col-lg-12" id="form-qr-code">
                    <div class="payment-content" id="body-payment-content">
                        
                        <div class="payment-qr col-sm-7 mx-auto" style="padding: 30px 0px;">
                            <div class="payment-cta">
                                <div>
                                    <div>
                                        <ul class="logo-link">
                                            <li><img class="merchant-logo-link" src="img/Logo1.png"></li>
                                            <li class="fa fa-link" style="font-size:25px;color:#FEA116"></li>
                                            <li><img class="merchant-logo-link" src="img/paymentMomo.png"></li>
                                        </ul>
                                        <h1>Quét mã QR để liên kết với <a>Moro</a></h1>
                                    </div>
                             </div>
                                <a class="cta-app">Sử dụng <b> App MoMo </b> hoặc ứng dụng camera hỗ trợ QR code để quét
                                    mã</a>
                            </div>
                            <div style="text-align: center">
                                <img alt="paymentcode" class="image-qr-code" src="img/qrcode-momo.jpg">
                            </div>    
                    </div>
                    </div>
                </div>
                
            </div>
            <button id="btnPay" type="button" class="btn-payment mt-2">Thanh toán</button>
            
      
        </div>
      
      </div> 
      <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'G-MKX4F9JH07');
    </script>
    <script>
        var offset = 598023;
        var second = offset / 1000;
        var countdown = parseInt(second);
        var offset = 598023;
        var retry = 500;
        var isTablet = false;
        var device;
        if (false) {
            device = 'mobile';
        } else if (false) {
            device = 'tablet';
        } else device = 'desktop';

        function closeCommonModalAndSendEvent() {
            gtag('event', 'aiopgw_paymodel_momowallet', {
                'action': 'click_close_pu_walletpgw',
                'device': device
            });
            $(".common-modal").remove()
        }

        $('#payByMomoAppTablet').click(function () {
            openApp();
        });

        $('#openAppStoreTablet').click(function () {
            openStore();
            return false;
        });

        function back() {
            gtag('event', 'aiopgw_paymodel_momowallet', {
                'action': 'click_cancel_pu_walletpgw',
                'device': device
            });
            $('#btn-momo-cancel').click();
        }

        document.onreadystatechange = function () {
            "complete" == document.readyState && setTimeout(function () {
                document.getElementById("interactive"), document.getElementById("load").remove(), document.getElementById("contents").classList.remove("d-none")
            }, 1e3)
        },

            $(document).ready(function () {
                var e = offset / 1e3, t = parseInt(e), n = setInterval(function () {
                    var a = parseInt(e / 60), c = parseInt(e - 60 * a);
                    e--, t--, a < 10 && (a = "0" + a), c < 10 && (c = "0" + c), $("span[name=expiredAt]").html(a + ":" + c), $("b[name=expiredAt]").html(a + ":" + c), t <= 0 && (clearInterval(n), document.getElementById("btn-momo-expire").click())
                }, 1e3);
                $.ajaxSetup({cache: !1})
                setUpDevice();
                setUpUI();
            });

        function redirect(data) {
            if (data.return_url) {
                window.location.replace(data.return_url);
            } else if (data.returnUrl) {
                window.location.replace(data.returnUrl);
            }
        }

        function openApp() {
            //Fallback;
            gtag('event', 'aiopgw_paymodel_momowallet', {
                'action': 'click_payapp_scr_walletpgw',
                'device': device
            });
            if (false == null) {
                window.location.href = "momo:\/\/app?action=link\u0026amount=0\u0026callBackUrl=https%3A%2F%2Fvn-momo.boku.com%2Fmomo%2Fapi%2Fnotification%2Fmms%2Fdn%2Fspotify\u0026createdAt=1671044653113\u0026customerNumber=@walletId@\u0026dataLimitMoneyHidden=true\u0026deeplinkCallback=https%3A%2F%2Fvn-momo.boku.com%2Fmomo%2Fapi%2Fnotification%2Fmms%2Fdn%2Fspotify\u0026extra=\u0026formData=%7B%22body%22%3A%5B%7B%22key%22%3A%22Nh%C3%A0+cung+c%E1%BA%A5p%22%2C%22value%22%3A%22Spotify%22%2C%22isLink%22%3Atrue%7D%2C%7B%22key%22%3A%22M%C3%A3+kh%C3%A1ch+h%C3%A0ng%22%2C%22value%22%3A%221348818373202712097%22%2C%22isLink%22%3Afalse%7D%2C%7B%22key%22%3A%22M%C3%A3+giao+d%E1%BB%8Bch%22%2C%22value%22%3A%221205cd7a19db979e7de0c409%22%2C%22isLink%22%3Atrue%7D%2C%7B%22key%22%3A%22M%C3%B4+t%E1%BA%A3%22%2C%22value%22%3A%22NA%22%2C%22isLink%22%3Atrue%7D%2C%7B%22key%22%3A%22T%C3%A0i+kho%E1%BA%A3n%22%2C%22value%22%3A%22%40walletId%40%22%2C%22isLink%22%3Afalse%7D%2C%7B%22key%22%3A%22T%E1%BB%95ng+ti%E1%BB%81n%22%2C%22value%22%3A%220%22%2C%22type%22%3A%22amount%22%2C%22isLink%22%3Atrue%7D%5D%7D\u0026gatewaySessionId=TU9NT0hNQjgyMDIyMTAzMXwxMjA1Y2Q3YTE5ZGI5NzllN2RlMGM0MDk=\u0026gatewayVersion=3.0\u0026isScanQR=false\u0026orderId=1205cd7a19db979e7de0c409\u0026partnerCode=MOMOHMB820221031\u0026partnerRefId=1205cd7a19db979e7de0c409\u0026qrCodeType=104\u0026requestId=1205cd7a19db979e7de0c409\u0026requestType=genToken\u0026serviceType=webApp\u0026signature=bef7236da527c41c183829fb6a5308d8ed708fec4afd659de5844b232691dc68\u0026source=websdk\u0026type=link\u0026v=1.1";
                setTimeout(function () {
                    openStore();
                }, 1000);
            } else {
                window.location.href = "momo:\/\/app?action=link\u0026amount=0\u0026callBackUrl=https%3A%2F%2Fvn-momo.boku.com%2Fmomo%2Fapi%2Fnotification%2Fmms%2Fdn%2Fspotify\u0026createdAt=1671044653113\u0026customerNumber=@walletId@\u0026dataLimitMoneyHidden=true\u0026deeplinkCallback=https%3A%2F%2Fvn-momo.boku.com%2Fmomo%2Fapi%2Fnotification%2Fmms%2Fdn%2Fspotify\u0026extra=\u0026formData=%7B%22body%22%3A%5B%7B%22key%22%3A%22Nh%C3%A0+cung+c%E1%BA%A5p%22%2C%22value%22%3A%22Spotify%22%2C%22isLink%22%3Atrue%7D%2C%7B%22key%22%3A%22M%C3%A3+kh%C3%A1ch+h%C3%A0ng%22%2C%22value%22%3A%221348818373202712097%22%2C%22isLink%22%3Afalse%7D%2C%7B%22key%22%3A%22M%C3%A3+giao+d%E1%BB%8Bch%22%2C%22value%22%3A%221205cd7a19db979e7de0c409%22%2C%22isLink%22%3Atrue%7D%2C%7B%22key%22%3A%22M%C3%B4+t%E1%BA%A3%22%2C%22value%22%3A%22NA%22%2C%22isLink%22%3Atrue%7D%2C%7B%22key%22%3A%22T%C3%A0i+kho%E1%BA%A3n%22%2C%22value%22%3A%22%40walletId%40%22%2C%22isLink%22%3Afalse%7D%2C%7B%22key%22%3A%22T%E1%BB%95ng+ti%E1%BB%81n%22%2C%22value%22%3A%220%22%2C%22type%22%3A%22amount%22%2C%22isLink%22%3Atrue%7D%5D%7D\u0026gatewaySessionId=TU9NT0hNQjgyMDIyMTAzMXwxMjA1Y2Q3YTE5ZGI5NzllN2RlMGM0MDk=\u0026gatewayVersion=3.0\u0026isScanQR=false\u0026orderId=1205cd7a19db979e7de0c409\u0026partnerCode=MOMOHMB820221031\u0026partnerRefId=1205cd7a19db979e7de0c409\u0026qrCodeType=104\u0026requestId=1205cd7a19db979e7de0c409\u0026requestType=genToken\u0026serviceType=webApp\u0026signature=bef7236da527c41c183829fb6a5308d8ed708fec4afd659de5844b232691dc68\u0026source=websdk\u0026type=link\u0026v=1.1";
            }
        };

        function openStore() {
            //Fallback;
            setTimeout(function () {
                window.location.href = "market:\/\/details?id=com.mservice.momotransfer";
            }, 100);
        };

        function executeXML() {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == XMLHttpRequest.DONE && this.status == 200) {
                    // Typical action to be performed when the document is ready:
                    var data = JSON.parse(xhttp.responseText);
                    if (data.redirect) {
                        if (data.status_code == "0") {
                            gtag('event', 'aiopgw_paymodel_momowallet', {
                                'action': 'scan_qrc_scr_walletpgw',
                                'device': device,
                                'result': 'success'
                            });
                        } else {
                            gtag('event', 'aiopgw_paymodel_momowallet', {
                                'action': 'scan_qrc_scr_walletpgw',
                                'device': device,
                                'result': 'fail'
                            });
                        }
                        redirect(data);
                    } else {
                        if (retry > 0)
                            setTimeout(executeXML, 4000);
                        retry--;
                    }
                }
            };
            xhttp.open("POST", '/v2/gateway/querySession', true);
            xhttp.setRequestHeader("X-CSRF-TOKEN", "fad6f1cf-3968-40d5-8ee9-53eb17fd5e45");
            if ("linkWallet" == "topUp") {
                let webURL = {
                    t: "TU9NT0hNQjgyMDIyMTAzMXwxMjA1Y2Q3YTE5ZGI5NzllN2RlMGM0MDk="
                }
                xhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
                xhttp.send(JSON.stringify(webURL));
            } else {
                xhttp.send();
            }


        }

        $(document).ready(function () {
            $.ajaxSetup({
                cache: false
            });
            setTimeout(executeXML, 4000);

        });

        function showModal() {
            gtag('event', 'aiopgw_paymodel_momowallet', {
                'action': 'click_guide_scr_walletpgw',
                'device': device
            });
            $('.modal-background').css('display', 'block');
        }

        function closeModal() {
            $('.modal-background').css('display', 'none')
        }

        function setUpDevice() {
            if (!isTablet) {
                $(".tablet-ui").remove();
                document.documentElement.style.setProperty('--footer-header-height', $('#header').height() + $('#footer').height() + "px");
            }

        }

        function setUpUI() {
            if ("0" == 0 || "linkWallet" == "subscription") {
                var expireText = $("<div class='expire-content mb-3'> <div class='box-expire' style='width: 350px; margin: auto'> <div class='expire-text'><p>Đơn hàng sẽ hết hạn sau: <span class='font-weight-normal time-expire-text' name='expiredAt'></span></p></div></div></div>");
                var instruction = $("<div class='text-center my-3 font-size-14'><div class='black12-color mr-1 d-inline'>Gặp khó khăn khi thanh toán?</div><a onclick='return showModal()' class='blue-color font-weight-bold-600 hover-none-decoration' href='https://momo.vn/tin-tuc/tin-tuc-su-kien/huong-dan-su-dung-hinh-thuc-thanh-toan-quet-ma-va-ma-thanh-toan-673'>Xem Hướng dẫn</a></div>");
                if ("linkWallet" == "topUp") {
                    expireText = $("<div class='expire-content mb-3'> <div class='box-expire' style='width: 350px; margin: auto'> <div class='expire-text'><p>Hết hạn sau: <span class='font-weight-normal time-expire-text' name='expiredAt'></span></p></div></div></div>");
                    instruction = $("<div class='text-center my-3 font-size-14'><div class='black12-color mr-1 d-inline'>Gặp khó khăn khi thực hiện?</div><a onclick='return showModal()' class='blue-color font-weight-bold-600 hover-none-decoration' href='https://momo.vn/tin-tuc/tin-tuc-su-kien/huong-dan-su-dung-hinh-thuc-thanh-toan-quet-ma-va-ma-thanh-toan-673'>Xem Hướng dẫn</a></div>");
                }
                var backButtonObjectRender = $("<div class='text-center my-3 font-size-14 font-weight-bold-600'><a class='momo-color backButton hover-momo-color hover-none-decoration' href='Payment.html'>Quay về</a></div>");

                $(".payment-qr").css("padding", "30px 0px 30px 0px");

                $("#orderInfo").remove();
                $("#momo-mark").remove();
                $("#form-qr-code").removeClass("col-lg-8");

                isTablet ? $("#form-qr-code").addClass("col-lg-12") : $("#form-qr-code").addClass("col-lg-12");

                $(".payment-qr").append(expireText).append(instruction).append(backButtonObjectRender);
            }

            $('.backButton').click(function () {
                gtag('event', 'aiopgw_paymodel_momowallet', {
                    'action': 'click_back_scr_walletpgw',
                    'device': device
                });

                if ("linkWallet" == 'linkWallet') {
                    stringPartner = " Bạn chắc chắn muốn hủy phiên liên kết <strong> Ví MoMo </strong> với " + "<strong>" + "Moro" + "</strong>" + "  hiện tại?";
                    showCommonModal("Hủy phiên liên kết dịch vụ",
                        stringPartner,
                        "HỦY PHIÊN",
                        "return back()",
                        "ĐÓNG",
                        "return closeCommonModalAndSendEvent()");
                    return false;
                }

                if ("linkWallet" == 'topUp') {
                    stringPartner = " Bạn chắc chắn muốn rời khỏi trang quét mã này?";
                    showCommonModal("Rời khỏi trang quét mã?",
                        stringPartner,
                        "ĐỒNG Ý",
                        "return back()",
                        "ĐÓNG",
                        "return closeCommonModalAndSendEvent()");
                    return false;
                }

                if ("linkWallet" == 'payWithMethod') {
                    location.reload();
                    return false;
                }

                stringPartner = "Bạn chắc chắn muốn hủy giao dịch thanh toán với " + "<strong>" + "Spotify" + "</strong>" + "?";
                showCommonModal("Huỷ giao dịch thanh toán",
                    stringPartner,
                    "HUỶ GIAO DỊCH",
                    "return back()",
                    "ĐÓNG",
                    "return closeCommonModalAndSendEvent()");
                return false;
            })
        }
    </script>
    <script src="jquery-1.9.1.js"></script>
    <script src="jquery.cookie.js"></script>
    <script src="payment.js" defer></script>
    <script src="js/ServicePack.js"></script>
</div> 

<script>
if ( window.history.replaceState ) {
    window.history.replaceState( null, null, window.location.href );
}
</script>
    
</body>
</html>